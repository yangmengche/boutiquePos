<div class="filter-block">
  <p class="input-name">供應商：</p>
  <mat-select [(ngModel)]="pageSetting.supplierID" name="supplierID" class="input-name" (selectionChange)="onSelectChanged($event)">
    <mat-option *ngFor="let supplier of suppliers" [value]="supplier._id">
      {{ supplier.name }}
    </mat-option>
  </mat-select>
</div>
<div class="filter-block">
  <p class="input-name">分類：</p>
  <mat-select [(ngModel)]="pageSetting.category" name="category" class="input-name" (selectionChange)="onSelectChanged($event)">
    <mat-option *ngFor="let category of categorys" [value]="category">
      {{ category.name }}
    </mat-option>
  </mat-select>
</div>
<mat-table [dataSource]="itemDataSource">
  <ng-container matColumnDef="pic">
    <mat-header-cell *matHeaderCellDef></mat-header-cell>
    <mat-cell *matCellDef="let row" height="40"><img src={{row.pic}} height="40"/></mat-cell>
  </ng-container>    
  <ng-container matColumnDef="code">
    <mat-header-cell *matHeaderCellDef>條碼</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.code }}</mat-cell>
  </ng-container>  
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef>名稱</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.name }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="supplier">
    <mat-header-cell *matHeaderCellDef>供應商</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.supplierID.name }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="category">
    <mat-header-cell *matHeaderCellDef>分類</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.category }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="size">
    <mat-header-cell *matHeaderCellDef>尺吋</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.size }}</mat-cell>
  </ng-container>    
  <ng-container matColumnDef="cost">
    <mat-header-cell *matHeaderCellDef>成本</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.cost }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="listPrice">
    <mat-header-cell *matHeaderCellDef>牌價</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.listPrice }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="marketPrice">
    <mat-header-cell *matHeaderCellDef>售價</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.marketPrice }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="stock">
    <mat-header-cell *matHeaderCellDef>庫存</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.stock }}</mat-cell>
  </ng-container>    
  <ng-container matColumnDef="select">
    <mat-header-cell *matHeaderCellDef>Stock</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <button mat-button color="primary" (click)="selectItem(row)">
        選擇
      </button>
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef=matHeader></mat-header-row>
  <mat-row *matRowDef="let row; columns: matHeader"
            (click)="onRowClick(row)"
  ></mat-row>  
  
  <!-- <mat-header-row *matHeaderRowDef="['pic', 'code', 'name', 'supplier', 'category', 'size', 'cost', 'listPrice', 'marketPrice', 'stock']"></mat-header-row>
  <mat-row *matRowDef="let supplierlRow; columns: ['pic', 'code', 'name', 'supplier', 'category', 'size', 'cost', 'listPrice', 'marketPrice', 'stock']"></mat-row>   -->
</mat-table>
<mat-paginator [pageSize]="pageSetting.pageSize" [pageSizeOptions]="[5, 10, 20, 50]" showFirstLastButtons (page)='onPageChance($event)'></mat-paginator>
<div class="center">
  <!-- <a [routerLink]="['/', 'addItemPage']">
    <mat-icon color="primary">add</mat-icon>
  </a> -->
  <button mat-icon-button color="primary" (click)="onAddItem()" type="button">
      新增品項
  </button>
</div>
